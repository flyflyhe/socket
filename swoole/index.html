<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    
<script>
    ws = new WebSocket("ws://127.0.001:9501");
    //连接成功建立后响应
    ws.onopen = function() {
        ws.send('hello world!');
        console.log("成功连接到" + $("#uri").val());
    }
    ws.onerror = function(err) {
        var txt = "";
        for (var x in err)
        {
            txt=txt + err[x];
        }
        alert("Error: " + txt);
    };
    //收到服务器消息后响应
    ws.onmessage = function(e) {
        console.log(e.data);
    };
    //连接关闭后响应
    ws.onclose = function () {
        console.log("关闭连接");
        ws = null;
    };
</script>
</body>
</html>